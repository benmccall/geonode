{% extends "page_layout.html" %}
{% load i18n %}
{% block title %} {% trans "User Guide" %} - {{ block.super }} {% endblock %}

{% load faqtags %}

{% block main %} 
<div class="twocol">

  <h2>Help</h2>

  <p>This page provides helpful information about how to use the data portal website. You can use the links below to navigate to what you want to know.</p>
  <ul>
    <li><a href="#browsing-data">Browsing Data</a></li>
    <li><a href="#browsing-maps">Browsing Maps</a></li>
    <li><a href="#creating-a-map">Creating a Map</a></li>
    <li><a href="#exporting-a-map">Exporting a Map</a></li>
    <li><a href="#remixing-a-map">Remixing a Map</a></li>
    <li><a href="#developer-access">Developer / Web Service Access</a></li>
  </ul>

  <h3 id="browsing-data">Browsing Data</h3>
  <p>The <a href="data">Data</a> tab allows you to browse data uploaded to this data portal.</p>
  <p>All data can be downloaded in a variety of formats, for use in other applications.</p>

  <h3 id="browsing-maps">Browsing Maps</h3>
  <p>The data portal allows users to create and share maps with one another.</p>
  <p>The <a href="maps">Maps</a> tab is a gateway to map exploration on the data portal.  From here you can <strong>search for a map</strong> or <strong>create a map</strong>, which will open the <a href="maps/new">Map Composer</a>.</p>
  <h5>Google Earth Mode</h5>
  <p>Any map viewed in the interactive map editor can be seen in 3D mode with the Google Earth plugin. To switch to 3D mode select the Google Earth globe logo, the rightmost button on top toolbar. If you do not have the Google Earth plugin installed you will be prompted to install it.</p>

  <h3 id="creating-a-map">Creating a Map</h3>
  <p>To create a new map go to the <a href="maps">Contributed Maps</a> tab and click the <a href="maps/new">create your own map</a> link.</p>
  <p>This will take you to the <a href="maps/new">Map Composer</a> with a base layer loaded.</p>
  <p>To add data layers from the data portal click on the green plus button located below the Data tab on the left hand side of the screen. This will open a dialog listing all the layers available on the data portal.</p>
  <p>To add layers to your map select them and hit the <strong>Add Layers</strong> button. When finished you may hit <strong>Done</strong> to close the dialog and go back to the map.</p>

  <h5>Reordering and Removing Layers</h5>
  <p>Change the display order of the layers listed in the data tab by simply dragging and dropping their names. The order in the map will be updated to reflect that. To turn a layer's visibility off simply uncheck it, and to remove it entirely select it and hit the red minus button.</p>

  <h5>Saving your map</h5>
  <p>Once a suitable set of layers and zoom level has been found it's time to save it so others can see it.  Click the Save button--the left most icon on the top toolbar, an image of a map with a disk--on the top menu and fill out the title and abstract of the map.</p>

  <h3 id="exporting-a-map">Exporting a Map</h3>
  <p>Any map from the data portal can be embedded for use in another site or blog. To export a map:</p>
  <ol>
    <li>Select the from the list of maps on the community or map page and then hit the 'export map' button.</li> 
    <li>Choose your desired height and width for the widget in the wizard.</li> 
    <li>Copy the HTML snippet provided in the wizard to any HTML page or iFrame-supporting blog post.</li>
  </ol>
  <p>This will put an interactive widget showing you map in your web page or blog post.</p>
  <p>Note that the <a href="maps/new">Map Composer</a> also has a button to export the map. Just be sure to save the map before exporting if there are changes that you want others to see. It exports the last saved version, not the last viewed version.</p>

  <h3 id="remixing-a-map">Remixing a Map</h3>
  <p>Any map available can serve as a starting point for a new map.</p>
  <ol>
    <li>Open the map in the Map Composer.</li>
    <li>Add and remove layers as you like.</li>
    <li>Pan and zoom to highlight the area of interest.</li>
    <li><strong>IMPORTANT:</strong> Update the title, abstract, contact info and tags to reflect the new map.</li>
    <li>Save the map.</li>
  </ol>
  <p>You will be able to see your new map when you search for it from the <a href="maps">Maps</a> tab.</p> 

  <h3 id="developer-access">Developer / Web Service Access</h3>
  <p>Web Services are available from the following URLs:</p>
  <ul>
    <li><strong>{% trans "Dynamic tiles via WMS:" %}</strong> <a href="{{GEOSERVER_BASE_URL}}wms?request=GetCapabilities&version=1.1.1&service=WMS">WMS 1.1.1</a></li>
    <li><strong>{% trans "Vector data via WFS:" %}</strong> <a href="{{GEOSERVER_BASE_URL}}wfs?request=GetCapabilities&version=1.1.0&service=WFS">WFS 1.1.0</a></li>
    <li><strong>{% trans "Metadata search via CSW:" %}</strong> <a href="{{GEONETWORK_BASE_URL}}srv/en/csw?request=GetCapabilities&version=2.0.2&service=CSW">CSW 2.0.2</a></li>
    <li><strong>{% trans "Cached tiles via WMTS:" %}</strong> <a href="{{GEOSERVER_BASE_URL}}gwc/service/wmts?service=WMTS&request=GetCapabilities&version=1.0.0">WMTS 1.0.0</a></li>
  </ul>
  <p>Answers to additional developer-related questions can be found in the <a href="{% url faq_topic_detail 'developers' %}">Developer FAQs</a>.</p>

</div>
{% endblock %}

{% block sidebar %}
<div class="threecol">
  <h3>Additional FAQs</h3>
  <ul>
    {% faq_topic_list as topic_list %}
    {% for topic in topic_list %}
      <li><a href="{{ topic.get_absolute_url }}">{{ topic }}</a></li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
